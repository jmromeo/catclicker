<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.0/knockout-min.js'></script>

    <link rel="stylesheet" href="css/catlist.css">
</head>

<body>
    <!-- Cat Clicker Header -->
    <div class="jumbotron text-center">
      <h1>Cat Clicker</h1>
      <p>Select super cute cats! </p>
    </div>

    <div class="container">
        <!-- Cat List -->
        <div class="row">
            <div class="col text-center">
                <div data-bind="foreach: cats">
                    <!-- ko if: ($data === ($parent.currentcat())) -->
                    <button data-bind="text: $data.name, click: $parent.setCurrentCat" class="btn btn-primary"></button>
                    <!-- /ko -->     
                    <!-- ko ifnot: ($data === ($parent.currentcat())) -->
                    <button data-bind="text: $data.name, click: $parent.setCurrentCat" class="btn btn-success"></button>
                    <!-- /ko -->     
                </div>
            </div> 
        </div>

        <!-- Cat Display -->
        <div data-bind="with: currentcat">
            <div class="row row-margin">

                <!-- Cat Cuteness -->
                <div class="col text-center">
                    <div>Cuteness Level: <span data-bind="text: cutenessLevel"></span></div>
                </div>

                <!-- Cat Image -->
                <div class="col text-center">
                    <img data-bind="attr: { src: img }" class="img-rounded">
                </div>
            </div>

            <!-- Cat Like Buttons -->
            <div class="row likebtn-margin">
                <div class="col text-center">
                    <button data-bind="click: $parent.catLiked" class="btn-success">
                        <i class="fa fa-thumbs-up"></i>
                    </button>
                    <button data-bind="click: $parent.catDisliked" class="btn-danger">
                        <i class="fa fa-thumbs-down"></i>
                    </button>
                </div>
            </div>

            <!-- Cat Likes Display -->
            <div class="row">
                <div class="col text-center">
                    <span>Likes: </span>
                    <span data-bind="text: numclicks"></span>
                </div>
            </div>

            <!-- Cat Nicknames Display -->
            <div class="row">
                <div class="col text-center">
                    <h4 class="nicknametitle">Nicknames</h5>
                    <div data-bind="foreach: nicknames" class="nicknames">
                        <!-- ko if: ($index() === ($parent.nicknames().length - 1)) -->
                        <span data-bind="text: $data"></span>
                        <!-- /ko -->     
                        <!-- ko ifnot: ($index() === ($parent.nicknames().length - 1)) -->
                        <span data-bind="text: $data"></span><span>,</span>
                        <!-- /ko -->     
                    </div>
                </div>
            </div>
        </div>

        <!-- Edit Mode -->
        <div class="row row-margin">
            
            <!-- Edit Button -->
            <div class="col text-center">
                <button data-bind="click: editCat" class="btn btn-primary">Edit Cat</button>
            </div>
            
            <!-- Edit Display. Only shows while in edit mode. -->
            <div class="col text-center" data-bind="if: editmode().entered">
                <div class="row-margin form-group">
                    <label>Cat Name</label>
                    <input data-bind="value: editmode().catname" class="form-control">
                </div>
                <div class="row-margin form-group">
                    <label>Cat Image</label>
                    <input data-bind="value: editmode().catimg" class="form-control">
                </div>
                <div class="row-margin form-group">
                    <label>Cat Likes</label>
                    <input data-bind="value: editmode().catlikes" class="form-control">
                </div>
                <div class="row-margin form-group">
                    <label>Cat Nicknames</label>
                    <input data-bind="value: editmode().catnicknames" class="form-control">
                </div>
                <button data-bind="click: saveEdit" class="btn btn-success">Save</button>
                <button data-bind="click: cancelEdit" class="btn btn-danger">Cancel</button>
            </div>
        </div>
    </div>

    <div class="margin-bottom"></div>

    <script src='js/app.js'></script>
</body>
</html>